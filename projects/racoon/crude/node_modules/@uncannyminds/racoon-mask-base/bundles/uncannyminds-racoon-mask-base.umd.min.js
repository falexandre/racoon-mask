!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("@uncannyminds/racoon-mask-base",["exports"],e):e((t.uncannyminds=t.uncannyminds||{},t.uncannyminds["racoon-mask-base"]={}))}(this,function(t){"use strict";var e=function(){function h(){this._slotChar="_",this._showPlaceholder=!1,this._mask=""}return h.isNumeric=function(t){return" "!==t&&!isNaN(Number(t))},h.isAlpha=function(t){return null!==t.match(/^[a-z]+$/i)},h.prototype.checkValue=function(){this.oldValue=this.value,this.value=this._input.nativeElement.value,this.value&&this.maskValue()},h.prototype.maskValue=function(){for(var t="",e=0,i=!1,s=0;s<this._mask.length&&this.value.length!==s;s++){var n=this._mask.charAt(s+e),a=this.value.charAt(s);if(this._showPlaceholder&&a===this._slotChar){if(i)break;i=!0}h.isAlpha(a)||h.isNumeric(a)||a===n?"9"===n?h.isNumeric(a)?t+=a:(this.value=this.value.substring(0,s)+this.value.substring(s+1),s--):"A"===n?h.isAlpha(this.value.charAt(s))?t+=a:(this.value=this.value.substring(0,s)+this.value.substring(s+1),s--):n!==a&&t.charAt(s+e)!==n?(t+=n,e++,s--):t+=n:(this.value=this.value.substring(0,s)+this.value.substring(s+1),s--)}this.oldLength=t.length,this._showPlaceholder&&(t=this.fillWithPlaceholder(t),this.oldValue=this.fillWithPlaceholder(this.oldValue)),this.caretPos=this.getUpdatedCaretPos(t),this.value=t,this.updateInput()},h.prototype.updateInput=function(){this._input.nativeElement.value=this.value,this._input.nativeElement.selectionStart=this.caretPos,this._input.nativeElement.selectionEnd=this.caretPos},h.prototype.getUpdatedCaretPos=function(t){var e=this.getCaretPos();if(e===this._input.nativeElement.value.length||e===this.oldLength)e=this.oldLength;else if(this.oldValue!==t)for(;e<this.value.length&&"9"!==this._mask.charAt(e)&&"A"!==this._mask.charAt(e);)e++;else e--;return e},h.prototype.fillWithPlaceholder=function(t){if(!t)return t;var e=this._mask.replace(/[9A]/g,this._slotChar);return t+=e=e.substring(t.length,e.length)},h.prototype.getCaretPos=function(){return this._input.nativeElement.selectionStart},h}();t.MaskingBase=e,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=uncannyminds-racoon-mask-base.umd.min.js.map